[gd_scene load_steps=11 format=3 uid="uid://xms5fak82ved"]

[ext_resource type="PackedScene" uid="uid://ckke57a6wns6f" path="res://scenes/player.tscn" id="1_dpxp8"]

[sub_resource type="QuadMesh" id="QuadMesh_2c62f"]
size = Vector2(100, 100)

[sub_resource type="Skin" id="Skin_gyfs4"]

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_dpxp8"]
albedo_color = Color(1, 0.831655, 0.499406, 0.509804)

[sub_resource type="BoxShape3D" id="BoxShape3D_8mm7a"]
size = Vector3(100, 100, 1)

[sub_resource type="ProceduralSkyMaterial" id="ProceduralSkyMaterial_2c62f"]
sky_horizon_color = Color(0.662243, 0.671743, 0.686743, 1)
ground_horizon_color = Color(0.662243, 0.671743, 0.686743, 1)

[sub_resource type="Sky" id="Sky_gyfs4"]
sky_material = SubResource("ProceduralSkyMaterial_2c62f")

[sub_resource type="Environment" id="Environment_d5x1h"]
background_mode = 2
sky = SubResource("Sky_gyfs4")
tonemap_mode = 2
glow_enabled = true

[sub_resource type="BoxMesh" id="BoxMesh_dpxp8"]

[sub_resource type="GDScript" id="GDScript_dpxp8"]
script/source = "extends Node3D

# On prépare le chemin vers la scène Card.tscn
var card_scene = preload(\"res://scenes/card.tscn\")

# Liste des valeurs des cartes de 1 à 11
var values = [1,2,3,4,5,6,7,8,9,10,11]

func _ready():
    # On affiche les cartes au démarrage de la scène
    for i in values:
        var card = card_scene.instantiate()
        card.set_value(i)

        # Positionne la carte dans l'espace 3D (décalées sur X)
        card.position = Vector3(i * 1.2, 0.5, 0)

        # Ajoute la carte comme enfant de Deck (visible dans la scène)
        add_child(card)
"

[node name="Luminy21" type="Node3D"]

[node name="Ground" type="MeshInstance3D" parent="."]
transform = Transform3D(1, 0, 0, 0, -4.37114e-08, 1, 0, -1, -4.37114e-08, 0, 0, 0)
mesh = SubResource("QuadMesh_2c62f")
skin = SubResource("Skin_gyfs4")
surface_material_override/0 = SubResource("StandardMaterial3D_dpxp8")

[node name="StaticBody3D" type="StaticBody3D" parent="Ground"]

[node name="CollisionShape3D" type="CollisionShape3D" parent="Ground/StaticBody3D"]
shape = SubResource("BoxShape3D_8mm7a")

[node name="WorldSettings" type="Node3D" parent="."]

[node name="DirectionalLight3D" type="DirectionalLight3D" parent="WorldSettings"]
transform = Transform3D(-0.866024, -0.433016, 0.250001, 0, 0.499998, 0.866026, -0.500003, 0.749999, -0.43301, 0, 0, 0)
shadow_enabled = true

[node name="WorldEnvironment" type="WorldEnvironment" parent="WorldSettings"]
environment = SubResource("Environment_d5x1h")

[node name="Player" parent="." instance=ExtResource("1_dpxp8")]

[node name="Table" type="MeshInstance3D" parent="."]
transform = Transform3D(-5.25359e-08, 4.35461, 0, -1.20188, -1.90346e-07, 0, 0, 0, -2.57318, 0.0458143, 0.22985, -2.36882)
mesh = SubResource("BoxMesh_dpxp8")

[node name="Deck" type="Node3D" parent="."]
script = SubResource("GDScript_dpxp8")
