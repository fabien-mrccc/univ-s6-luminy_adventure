[gd_scene load_steps=9 format=3 uid="uid://ckke57a6wns6f"]

[ext_resource type="Shader" uid="uid://7mgo8br5yida" path="res://shaders/outline.gdshader" id="2_g2els"]
[ext_resource type="Script" uid="uid://chn1nm5jjsidi" path="res://scripts/player.gd" id="2_rbmgg"]
[ext_resource type="Shader" uid="uid://beoyblfu783it" path="res://shaders/crosshair.gdshader" id="3_qhqgy"]

[sub_resource type="CapsuleMesh" id="CapsuleMesh_0f027"]
height = 1.75

[sub_resource type="ConvexPolygonShape3D" id="ConvexPolygonShape3D_6l7je"]
points = PackedVector3Array(-0.246339, -0.44075, -0.427895, 0.0654327, 0.471577, 0.484813, -0.0654408, 0.471578, 0.484815, 0.0396503, 0.76778, -0.304509, 0.458688, -0.550393, 0.0917177, -0.429692, -0.494625, 0.2213, -0.458691, 0.550387, -0.0917167, 0.427916, 0.440764, -0.246318, 0.0918807, -0.683076, 0.38099, 0.143859, -0.627982, -0.405693, 0.401026, 0.491408, 0.271593, -0.0654405, 0.471576, -0.484812, -0.119992, -0.853826, -0.0666921, 0.066633, 0.853822, 0.120045, -0.405391, 0.522961, 0.248491, -0.458595, -0.471639, -0.170295, 0.117078, -0.416413, 0.48176, -0.246343, -0.440757, 0.427902, 0.322512, -0.438579, -0.374189, -0.374166, 0.438641, -0.322541, 0.251672, -0.795019, -0.0927486, 0.458688, 0.550393, -0.0917177, 0.194563, 0.440932, -0.45401, 0.322517, -0.438586, 0.374194, -0.251767, 0.794985, 0.0927446, 0.0654327, -0.471577, -0.484813, 0.481734, -0.416551, -0.117132, -0.276609, -0.764282, 0.144926, -0.225088, 0.741417, -0.251627, -0.249056, -0.707753, -0.275239, -0.481737, 0.416465, 0.117154, 0.481747, 0.416399, 0.117135)

[sub_resource type="QuadMesh" id="QuadMesh_qhqgy"]
flip_faces = true
size = Vector2(2, 2)

[sub_resource type="ShaderMaterial" id="ShaderMaterial_dqkch"]
render_priority = 0
shader = ExtResource("2_g2els")
shader_parameter/outlineColor = Color(0, 0, 0, 0.78)
shader_parameter/depth_threshold = 0.025
shader_parameter/normal_threshold = 0.5
shader_parameter/normal_smoothing = 0.25
shader_parameter/max_thickness = 1.3
shader_parameter/min_thickness = 0.5
shader_parameter/max_distance = 75.0
shader_parameter/min_distance = 2.0
shader_parameter/grazing_fresnel_power = 5.0
shader_parameter/grazing_angle_mask_power = 1.0
shader_parameter/grazing_angle_modulation_factor = 50.0

[sub_resource type="ShaderMaterial" id="ShaderMaterial_qlg0r"]
shader = ExtResource("3_qhqgy")
shader_parameter/crosshair_color = Color(1, 1, 1, 0)
shader_parameter/border_color = Color(0, 0, 0, 1)
shader_parameter/radius = 0.1
shader_parameter/border_thickness = 0.1
shader_parameter/opacity = 0.0

[node name="Player" type="CharacterBody3D"]
script = ExtResource("2_rbmgg")

[node name="MeshInstance3D" type="MeshInstance3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.88, 0)
mesh = SubResource("CapsuleMesh_0f027")
skeleton = NodePath("")

[node name="CollisionShape3D" type="CollisionShape3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.88, 0)
shape = SubResource("ConvexPolygonShape3D_6l7je")

[node name="OutlineShader" type="MeshInstance3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1, -1.30034)
extra_cull_margin = 1000.0
mesh = SubResource("QuadMesh_qhqgy")
skeleton = NodePath("../..")
surface_material_override/0 = SubResource("ShaderMaterial_dqkch")

[node name="Head" type="Node3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1.5, 0)

[node name="Camera3D" type="Camera3D" parent="Head"]
current = true

[node name="CrosshairCanvas" type="CanvasLayer" parent="."]

[node name="CrosshairDot" type="ColorRect" parent="CrosshairCanvas"]
material = SubResource("ShaderMaterial_qlg0r")
anchors_preset = 8
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
offset_left = -20.0
offset_top = -20.0
offset_right = -4.0
offset_bottom = -4.0
grow_horizontal = 2
grow_vertical = 2
